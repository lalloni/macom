{% extends "base-web.html" %}
{% load markup %}
{% load i18n %}
{% load diagrams %}
{% block title %} - {% trans "Module" %} {{ object }}{% endblock %}
{% block location %}<a href="{% url system_detail object.system.pk %}">{% trans "System" %} {{ object.system.name }}</a> : {% trans "Module" %} {{ object.name }}{% endblock %}
{% block content %}
    <h2>{% trans "Module" %} <b>{{ object.name }}</b> {% include 'third-party-object.html' %} <span class="super no-print"><a href="{% url admin:diagrama_module_history object.pk %}">{% trans "history" %}</a>&nbsp;<a href="{% url admin:diagrama_module_change object.pk %}">{% trans "edit" %}</a></span></h2>
    <div id="module-description">
	    <h3>{% trans "Goal" %}</h3>
        {{ object.goal|default:"_No goal_"|markdown }}
    </div>
    <div id="module-documentation">
	    <h3>{% trans "Documentation" %}</h3>
        {{ object.documentation|default:"_No documentation_"|markdown }}
    </div>
    <div id="module-referents">
        <h3>{% trans "Referents" %}</h3>
        {{ object.referents|default:"_No referents_"|markdown }}
    </div>
    <div id="module-interfaces">
	    <h3>{% trans "Interfaces" %}</h3>
	    {% with interfaces=object.interfaces.all %}
		    {% if interfaces %}
			    <table>
			       <thead>
			           <tr>
			               <th>{% trans "Name" %}</th>
			               <th>{% trans "Goal" %}</th>
			               <th>{% trans "Direction" %}</th>
			           </tr>
			       </thead>
			       <tbody>
			           {% for interface in interfaces %}
			           <tr>
			               <td><a href="{% url interface_detail interface.pk %}">{{ interface }}</a></td>
			               <td>{{ interface.goal|default:"_No goal_"|markdown }}</td>
		                   <td>{% if interface.direction_inbound %}in{% endif %}{% if interface.direction_outbound %}out{% endif %}</td>
			           </tr>
			           {% endfor %}
			       </tbody>
			    </table>
		    {% else %}
		       <em>{% trans "No interfaces" %}</em>
		    {% endif %}
	    {% endwith %}
    </div>
    <div id="module-dependencies">
        <h3>{% trans "Dependencies" %}</h3>
        {% if dependencies %}
	        <table>
	           <thead>
	               <tr>
	                   <th>{% trans "Dependency" %}</th>
	                   <th>{% trans "Target Interface" %}</th>
	                   <th>{% trans "Goal" %}</th>
	                   <th>{% trans "Direction" %}</th>
	               </tr>
	           </thead>
	           <tbody>
	               {% for dependency in dependencies %}
	               <tr>
	                   <td><a href="{% url dependency_detail dependency.pk %}">{{ dependency }}</a></td>
	                   <td><a href="{% url interface_detail dependency.interface.pk %}">{{ dependency.interface }}</a></td>
	                   <td>{{ dependency.goal|default:"_No goal_"|markdown }}</td>
	                   <td>{% if dependency.direction_inbound %}in{% endif %}{% if dependency.direction_outbound %}out{% endif %}</td>
	               </tr>
	               {% endfor %}
	           </tbody>
	        </table>
        {% else %}
            <em>{% trans "No dependencies" %}</em>
        {% endif %}
    </div>
    <div id="module-diagram">
        <h3>{% trans "Diagram" %}</h3>
        {% diagram module_diagram object.pk %}
    </div>
{% endblock content %}
